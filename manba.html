<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/WallnutIcon .icon">
    <title>ç‰¢å¤§å€’è®¡æ—¶</title>
    <style>
        #countdown {
            font-size: 36px;
            margin: 50px auto;
            text-align: center;
        }

       
    </style>
</head>

<body>
    <h2 style="text-align: center;"><img src="/24.png" id="titleImage">æé†’æ‚¨ï¼š</h2>
    <h2 style="text-align: center;font-size: 24px;">è·ç¦»<input type="text" id="remainingDistance" placeholder="2024-06-25" style="width: 150px;font-size: 20px;" />
        <input type="submit" value="æäº¤"  onclick="sub()"/>åªå‰©ï¼š</h2>
   
    <div id="countdown"></div>

    <script>
        
        // ç›®æ ‡æ—¥æœŸ
       
        
        function sub() {
            remainingDistanceValue = document.getElementById("remainingDistance").value;
            
             targetDate = new Date(remainingDistanceValue).getTime();
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡å€’è®¡æ—¶
        const countdownInterval = setInterval(updateCountdown, 1000);
             updateCountdown(); // ç«‹å³è°ƒç”¨ä¸€æ¬¡ï¼Œé¿å…é¦–æ¬¡æ¸²æŸ“å»¶è¿Ÿ
        }

        function updateCountdown() {
            // å½“å‰æ—¥æœŸ
            const now = new Date().getTime();
            // å‰©ä½™æ—¶é—´
            const timeRemaining = targetDate - now;

           
             // å¦‚æœæ—¶é—´å·²ç»è¿‡å»ï¼Œåˆ™åœæ­¢è®¡æ—¶å™¨
             if (timeRemaining <= 0) {
                clearInterval(countdownInterval);
                document.getElementById("countdown").innerHTML = "æ´»åŠ¨å·²ç»è¿‡æœŸè¾£";
                
            }else{
            // è®¡ç®—å¤©æ•°ã€å°æ—¶ã€åˆ†é’Ÿå’Œç§’
            const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

            // æ˜¾ç¤ºå‰©ä½™æ—¶é—´
            const daysExpr = numberToExpression2(days);
            const hoursExpr = numberToExpression(hours);
            const minutesExpr = numberToExpression(minutes);
            const secondsExpr = numberToExpression(seconds);



                console.log(daysExpr);
            // æ˜¾ç¤ºä¸ºæ•°å­¦è¡¨è¾¾å¼å½¢å¼çš„å‰©ä½™æ—¶é—´
            document.getElementById("countdown").innerHTML =
                `<img src="${daysExpr[0]}.png" alt="${days}">
            <img src="${daysExpr[1]}.png" alt="${days}">
            <img src="${daysExpr[2]}.png" alt="${days}">æ—¥
            <img src="${hoursExpr[0]}.png" alt="${hours}">
            <img src="${hoursExpr[1]}.png" alt="${hours}">æ—¶
            <img src="${minutesExpr[0]}.png" alt="${minutes}">
            <img src="${minutesExpr[1]}.png" alt="${minutes}">åˆ†
           <img src=" ${secondsExpr[0]}.png" alt="${seconds}">
           <img src=" ${secondsExpr[1]}.png" alt="${seconds}">ç§’`;
          
         }  
        }
        function numberToExpression(num) {
            if (num >= 0 && num <= 60) {
                // è®¡ç®—åä½å’Œä¸ªä½
                let tens = Math.floor(num / 10);
                let ones = num % 10;

                // è¿”å›åŒ…å«åä½å’Œä¸ªä½çš„æ•°ç»„
                return [tens, ones];
            } else {
                document.getElementById("countdown").innerHTML = "åˆå‡ºBUGè¾£ğŸ¤£";
            }
        }
        function numberToExpression2(num) {
            if (num >= 0 ) {
                // è®¡ç®—ç™¾ä½ï¼Œåä½å’Œä¸ªä½
                let hundreds = Math.floor(num / 100);
                let mods=num-hundreds*100;
                let tens = Math.floor(mods / 10);
                let ones = num % 10;

                // è¿”å›åŒ…å«åä½å’Œä¸ªä½çš„æ•°ç»„
                return [hundreds,tens, ones];
            } else {
                document.getElementById("countdown").innerHTML = "ç®—é”™è¾£ğŸ¤£";
            }
        }

        // æ¯ç§’æ›´æ–°ä¸€æ¬¡å€’è®¡æ—¶
        const countdownInterval = setInterval(updateCountdown, 1000);
        updateCountdown(); // ç«‹å³è°ƒç”¨ä¸€æ¬¡ï¼Œé¿å…é¦–æ¬¡æ¸²æŸ“å»¶è¿Ÿ
    </script>

</body>

</html>